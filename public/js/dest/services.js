"use strict";angular.module("Authentication").factory("AuthenticationService",["$http","$cookieStore","$location","$rootScope","$timeout",function(e,t,o,n,i){var r={};return r.RefreshToken=function(){e.get("/api/users/refresh").success(function(e){e.token&&(r.ClearCredentials(),r.SetCredentials(e.token),console.log("Token refreshed."))}).error(function(e){r.ClearCredentials(),o.path("/login")})},r.Login=function(t,o,n){e.post("/api/users/login",{email:t,password:o}).success(function(e){n(e)})},r.Register=function(t,o,n,i){e.post("/api/users/register",{name:t,email:o,password:n}).success(function(e){i(e)})},r.SetCredentials=function(o){n.globals={currentUser:{token:o}},e.defaults.headers.common.Authorization="Bearer "+o,t.put("globals",n.globals)},r.ClearCredentials=function(){n.globals={},t.remove("globals"),e.defaults.headers.common.Authorization="Bearer "},r}]),angular.module("MainApp").factory("MainAppService",["$http","$cookieStore","$rootScope","$timeout",function(e,t,o,n){var i={};return i.AddItem=function(t,o,n,i,r,s,c){e.post("/api/inventory/add",{title:t,cost:o,price:n,sku:i,quantity:r,details:s}).success(function(e){c(e)})},i.GetAllItems=function(t){e.get("/api/inventory/list").success(function(e){t(e)})},i.DeleteItem=function(t,o){e.post("/api/inventory/remove",{id:t}).success(function(e){o(e)})},i}]),angular.module("ModifyItem").factory("ModifyItemService",["$http","$cookieStore","$rootScope","$timeout",function(e,t,o,n){var i={},r=null;return i.SaveItem=function(t,o,n,i,r,s,c,u){e.post("/api/inventory/edit",{id:t,title:o,cost:n,price:i,sku:r,quantity:s,details:c}).success(function(e){u(e)})},i.SetItem=function(e){r=e},i.GetItem=function(){return r},i}]);